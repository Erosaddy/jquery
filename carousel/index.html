<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>캐러셀</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <style>
        .carousel {
            width: 1000px;
            height: 562px;
            overflow: hidden;   
            margin: 0 auto;
            position: relative;
        }
        #imgs {
            width: 4000px;
            height: 562px;
            display: flex;
        }
        #prev, #next {
            position: absolute;
            top: 50%;
        }
        #next {
            right: 5%;
        }
        #prev {
            left: 5%;
        }

    </style>
</head>
<body>
    <h1>캐러셀 이미지</h1>
    <div>
        <div class="container">
            <button id="prev">이전</button>
            <div id="imgs">
                <img src="https://picsum.photos/id/1/1000/562" alt="img1">
                <img src="https://picsum.photos/id/2/1000/562" alt="img2">
                <img src="https://picsum.photos/id/3/1000/562" alt="img3">
                <img src="https://picsum.photos/id/4/1000/562" alt="img4">
            </div>
            <button id="next">다음</button>
        </div>
    </div>
    <script>
        var imgWidth = 1000;
        var imgCount = $("#imgs img").length; // 갯수
        var currentIndex = 0;
        $(function(){
            carouse();
        });
        function carousel(){
            carouselNext();
            carouselPrev();
        }
        function carouselPrev(){
            $("#prev").on("click", prevImg);
        }
        function carouselNext(){
            $("#next").on("click", nextImg);
        }
        function prevImg(){
                var prevIndex = currentIndex - 1; // 다음 = 현재 + 1 vs 이전 = 현재 - 1 
                if (prevIndex < 0) prevIndex = 3;
                currentIndex = prevIndex;
                var movePoint = -1 * imgWidth * prevIndex;
                $("#imgs").stop().animate({
                    marginLeft: movePoint
                }, 400);
            }
            function nextImg(){
                var nextIndex = currentIndex + 1; // 다음 = 현재 + 1 vs 이전 = 현재 - 1 
                if (nextIndex >= imgCount) nextIndex = 0;
                currentIndex = nextIndex;
                var movePoint = -1 * imgWidth * nextIndex;
                $("#imgs").stop().animate({
                    marginLeft: movePoint
                }, 400);
            }
    </script>
</body>
</html>